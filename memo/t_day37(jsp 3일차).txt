day37
복습(실습문제풀이) -> jsp 태그 -> jstl, el -> 오라클 21C -> MyBatis

[실습]
1. day02_task 라는 웹 프로젝트를 만든다
	url 루트경로는 /task이다 		=> server 탭 -> module에서 설정 (컨텍스트 패스)
	반드시 web.xml 파일을 이용한다	=> 서블릿 경로 매핑

2. index.jsp 에서 사용자에게 이름과 나이를 입력받고 접속이라는 버튼을 누르면 get방식을 사용하여 MyServlet1으로 요청이 간다.
	result.jsp에 이름과 나이를 출력하는데 forward 방식으로 이동한다

	result.jsp 결과화면
	000님 환영합니다
	000님의 2025년 나이는 00살 입니다
	
3. login.jsp에서 아이디와 비밀번호를 입력받아 로그인 버튼을 누르면 post 방식을 사용하여 MyServlet2로 요청이 간다.

4. com.serlvetTask.app 패키지에 MyServlet1과 MyServlet2를 만든다
	url 경로는 각각 resultServlet1, resultServelt2이다

5. index.jsp 파일에서 성별을 선택할 라디오버튼 3개를 만들어서 result.jsp 페이지에 결과 출력하기
	(선택안함, 남자, 여자 라디오버튼)

6. 취미를 선택할 수 있는 체크박스를 만들어서 result.jsp 페이지에 결과 출력하기
	(취미는 4개 이상)
===============================================================================
1. JSP 태그
	JSP에서 사용가능한 태그이며 다양한 기능을 지원한다
	JSP 태그를 이용하여 HTML 내부에 자바 코드의 사용이 가능하지만 다른 언어가 섞이게 되면 유지보수, 가독성 측면에서 좋지 않기 때문에
	JSTL과 EL이 등장하였고 JSP 태그의 사용빈도가 낮아졌다

1) 지시자 태그 <%@ 지시자 %>
	지시자 종류
	page : 페이지 속성을 지시하는 태그
		<%@ page language="java" ... %>
	include : 다른 파일의 내용을 포함시킨다
		<%@ include file="header.jsp" %>
	taglib : 태그 라이브러리를 지정한다
		<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>

2) 선언태그 <%! ... %>
	변수, 메소드를 선언할 때 사용한다
	선언 태그 안에 만든 변수나 메소드는 해당 페이지 안에서 언제든 사용이 가능하다

3) 표현식 태그 <%= ... %>
	변수, 메소드의 결과 값을 출력할 때 사용한다

4) 스크립틀릿 태그 <% %>
	자바 코드를 삽입하기 위해 사용한다
	자바 코드를 자유롭게 사용할 수 있다

5) 주석 <%-- --%>
	JSP 주석은 컴파일 자체를 막아버린다
	일반 HTML 코드는 HTML 주석을 사용해도 되지만 JSP와 관련된 코드를 주석처리할 때는 반드시 JSP 주석을 사용한다
	
6) 액션태그 <jsp:action> </jsp:action>
	JSTL, EL의 등장으로 잘 사용되지 않는다
	액션태그를 너무 많이 사용하면 코드가 복잡하고 유지보수가 어렵다

2. JSTL과 EL
	JSP에서 자바코드를 대신하여 사용하며 외부 라이브러리이다
	서블릿에서 JSP로 기술이 발전했지만 여전히 HTML코드와 JAVA코드가 같이 사용된다는 단점이 있다
	JSTL 태그와 EL 표현식을 사용하면 자바 코드를 대체하게 되어 태그로만 구성된 페이지를 만들 수 있다

1) JSTL 다운받기
	구글 > JSTL Download > 최상단 링크 클릭 > standard 1.1을 사용한다
	jakarta-taglibs-standard-1.1.2.zip   933K

	프로젝트의 webapp > Web-INF > lib 폴더 > 압축 해제한 폴더에 있는 lib 폴더의 2개 jar파일 드래그로 추가
	빌드패스 추가

2) EL(Expressions Language)
	JSP에서 사용하는 표현 언어
	JSP에서 JAVA로 가져온 값을 간편하게 표현하는데 사용된다
	${}를 사용한다
	
	ex) <%= name %> => ${name}

3) 스코프(Scope)
	어떤 값이 유효한 영역, 범위를 의미

- page 스코프
	JSP페이지를 의미한다
	현재 페이지 내에서만 유효하다는 의미이다

	page 스코프 변수 선언
	pageContext.setAttribute("name", "홍길동");

	page 스코프를 가진 변수 사용
	${name}
	
- request 스코프
	request에 저장된 데이터를 의미한다
	${requestScope.name}

- session 스코프
	세션에 저장된 데이터를 의미한다
	${sessionScope.name}

- application 스코프
	어플리케이션 전체에서 사용 가능한 데이터를 의미한다
	${applicationScope.name}

- 값을 찾을 때 스코프를 명시하지 않으면 다음과 같은 순서로 찾는다
	page -> request -> session -> application

4) EL 연산자
산술연산자
	+, -, *, /, %, mod
논리연산자
	&&, and
	||, or
	!, not
비교연산자		
	>, gt
	<, lt
	>=, ge
	<=, le
	==, eq
	!=, ne
기타연산자
	empty
	
3. JSTL(Jsp Standard Tag Library)
	JSP 페이지에서 자주 사용되는 로직을 단순화하고 JAVA코드를 줄이기 위해 제공되는 태그 라이브러리이다
	JSTL은 HTML, JSP 태그, JAVA코드의 혼합사용을 줄이고 가독성과 유지보수를 높여준다

1) JSTL의 사용방법
	<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
	JSTL을 사용하기 위해서 JSP 페이지 상단에 코드한줄이 추가되어야한다

2) 태그의 종류
	<c:set> : 변수 선언
	<c:out> : 값 출력
	<c:if> : 단순 if문
	<c:choose> : 여러조건문의 시작(if ~ else if ~ else)
	<c:when> : 조건문의 조건식을 작성(조건문의 else if를 의미)
	<c:otherwise> : 조건문의 else를 의미함
	<c:forEach> : 반복문

자바					jstl
	for(자료형 변수명:자료구조){}	<c:forEach var="" items="${}"> </c:forEach>
	for(초기식; 조건식; 증감식){}	<c:forEach var="" begin="" end=""></c:forEach>

------------------------------------------------------------------------------------------------------
오라클 21c 다운로드
계정 생성 시 cmd에서 작성

계정을 그냥 생성 시 ORA-65096 오류 발생함

SQL> alter session set "_ORACLE_SCRIPT"=true;
세션이 변경되었습니다.

SQL> create user test identified by 1234;
사용자가 생성되었습니다.

SQL> grant connect, resource, dba to test;

권한이 부여되었습니다.

=====================================================================================
1. 디비버 연결 시도 실패(계정, 드라이브 ojbc11.jar)
Listener refused the connection with the following error:
ORA-12514, TNS:listener does not currently know of service requested in connect descriptor
  (CONNECTION_ID=/9BkVSQLRGShMph1v/+bOg==)
Listener refused the connection with the following error:
ORA-12514, TNS:listener does not currently know of service requested in connect descriptor
  (CONNECTION_ID=/9BkVSQLRGShMph1v/+bOg==)

2. C:\oracle21c\homes\OraDB21Home1\network\admin\listener.ora
해당 경로의 리스너.ora 파일 메모장으로 열고 아래 내용 기존내용 삭제 후 붙여넣기

# listener.ora Network Configuration File: C:\oracle21c\homes\OraDB21Home1\NETWORK\ADMIN\listener.ora
# Generated by Oracle configuration tools.

DEFAULT_SERVICE_LISTENER = XE

SID_LIST_LISTENER =
  (SID_LIST =
    (SID_DESC =
      (SID_NAME = XE)
      (ORACLE_HOME = C:\oracle21c\dbhomeXE)
    )
    (SID_DESC =
      (SID_NAME = CLRExtProc)
      (ORACLE_HOME = C:\oracle21c\dbhomeXE)
      (PROGRAM = extproc)
      (ENVS = "EXTPROC_DLLS=ONLY:C:\oracle21c\dbhomeXE\bin\oraclr.dll")
    )
  )

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
    )
  )

3. cmd(관리자모드)에서 리스너 중지 후 시작
cmd > lsnrctl stop
cmd > lsnrctl start

4. 디비버에서 Database XE로 입력 후 계정 로그인 후 Test Connection => 연결성공

=====================================================================================












